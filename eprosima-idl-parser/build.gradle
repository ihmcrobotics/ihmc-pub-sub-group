buildscript {
   repositories {
      mavenCentral()
      maven { url "http://dl.bintray.com/ihmcrobotics/maven-release" }
      maven { url "http://dl.bintray.com/ihmcrobotics/maven-vendor" }
      maven { url "https://plugins.gradle.org/m2/" }
      mavenLocal()
      jcenter()
   }
   dependencies {
      classpath "us.ihmc:ihmc-build:0.13.7"
      classpath "me.champeau.gradle:antlr4-gradle-plugin:0.1"
   }
}
apply plugin: "us.ihmc.ihmc-build"
apply plugin: "me.champeau.gradle.antlr4"

ihmc {
   loadProductProperties("../group.gradle.properties")

   configureDependencyResolution()
   javaDirectory("main", "generated-java")
   resourceDirectory("main", "antlr4")
   configurePublications()
}

mainDependencies {
   compile group: "org.antlr", name: "antlr4", version: "4.2.2"
   compile group: "org.antlr", name: "stringtemplate", version: "3.2"
   compile group: "us.ihmc", name: "ihmc-commons", version: "0.20.0"
}

antlr4.source = project.file("src/main/antlr4/omg")
antlr4.output = project.file("src/main/generated-java/com/eprosima/idl/parser/grammar")
antlr4.listener = false
antlr4.visitor = false
antlr4.extraArgs = ["-package", "com.eprosima.idl.parser.grammar"]
